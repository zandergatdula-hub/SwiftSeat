@model IEnumerable<SwiftSeat.Models.Shows>
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center my-5">
    <h1 class="display-4">Welcome to SwiftSeat 🎟️</h1>
</div>

<div class="container">
    <h2 class="mb-4 text-md-start text-primary fw-bold text-uppercase">📺 Shows</h2>
    <p>
        <a asp-controller="Shows" asp-action="Create" class="btn btn-success fw-bold mb-3">Create New Show</a>
    </p>

    <div class="table-responsive">
        <table class="table table-bordered table-striped table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th class="px-3 py-2">Photo</th>
                    <th class="px-3 py-2">Title</th>
                    <th class="px-3 py-2">Description</th>
                    <th class="px-3 py-2">Event Date</th>
                    <th class="px-3 py-2">Venue</th>
                    <th class="px-3 py-2">Owner</th>
                    <th class="px-3 py-2">Created</th>
                    <th class="px-3 py-2">Category</th>
                    <th class="px-3 py-2"> </th>
                   
                </tr>
            </thead>
            <tbody>
                @foreach (var show in Model)
                {
                    <tr>
                        <td class="text-center align-middle">
                            @if (!string.IsNullOrEmpty(show.PhotoFileName))
                            {
                                <img src="@(show.PhotoFileName.StartsWith("http", StringComparison.OrdinalIgnoreCase) ? show.PhotoFileName : Url.Content("~/photos/" + show.PhotoFileName))"
                                     alt="@show.Title"
                                     class="img-thumbnail shadow-sm"
                                     style="width:180px; height:130px; object-fit:contain;" />
                            }
                            else
                            {
                                <img src="~/images/placeholder.png" alt="No Image" class="img-thumbnail shadow-sm" style="width:180px; height:130px; object-fit:contain;" />
                            }
                        </td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Title)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Description)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.EventDate)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Venue)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Owner)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Created)</td>
                        <td class="px-3 py-2">@Html.DisplayFor(modelItem => show.Category.Name)</td>
                        <td class="px-3 py-2 text-center">
                            <a asp-controller="Shows" asp-action="Edit" asp-route-id="@show.EventId" class="btn btn-primary btn-sm fw-bold me-1">Edit</a>
                            <a asp-controller="Shows" asp-action="Details" asp-route-id="@show.EventId" class="btn btn-info btn-sm fw-bold me-1 text-white">Details</a>
                            <a asp-controller="Shows" asp-action="Delete" asp-route-id="@show.EventId" class="btn btn-danger btn-sm fw-bold">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
